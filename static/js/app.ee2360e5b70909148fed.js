webpackJsonp([1],{"8Vwb":function(e,t){},G68K:function(e,t){},Ls3r:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("/xf8"),s=o("3cXf"),i=o.n(s),l=o("+o7P"),c=o.n(l),r={props:{addTodo:Function},data:function(){return{title:""}},methods:{add:function(){var e=this.title.trim();if(e){var t={title:e,complete:!1};this.$emit("addTodo",t),this.title=""}else alert("必须输入")}}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo-header"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入你的任务名称，按回车键确认"},domProps:{value:e.title},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.add(t):null},input:function(t){t.target.composing||(e.title=t.target.value)}}})])},staticRenderFns:[]};var a=o("C7Lr")(r,d,!1,function(e){o("8Vwb")},null,null).exports,u={props:{todo:Object,index:Number},data:function(){return{bgcolor:"white",isShow:!1}},methods:{hander:function(e){e?(this.bgcolor="#aaaaaa",this.isShow=!0):(this.bgcolor="white",this.isShow=!1)},item:function(){var e=this.todo,t=this.index;window.confirm("确认是否删除"+e.title+"任务")&&c.a.publish("deleteItem",t)}}},h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("li",{style:{background:e.bgcolor},on:{mouseenter:function(t){e.hander(!0)},mouseleave:function(t){e.hander()}}},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.todo.complete,expression:"todo.complete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.todo.complete)?e._i(e.todo.complete,null)>-1:e.todo.complete},on:{change:function(t){var o=e.todo.complete,n=t.target,s=!!n.checked;if(Array.isArray(o)){var i=e._i(o,null);n.checked?i<0&&e.$set(e.todo,"complete",o.concat([null])):i>-1&&e.$set(e.todo,"complete",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.todo,"complete",s)}}}),e._v(" "),o("span",[e._v(e._s(e.todo.title))])]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"btn btn-danger",on:{click:e.item}},[e._v("删除")])])},staticRenderFns:[]};var p={props:["todos"],components:{Item:o("C7Lr")(u,h,!1,function(e){o("Ls3r")},null,null).exports}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"todo-main"},this._l(this.todos,function(e,o){return t("Item",{key:o,attrs:{todo:e,index:o}})}),1)},staticRenderFns:[]};var f=o("C7Lr")(p,m,!1,function(e){o("G68K")},null,null).exports,v={props:{todos:Array,deleteCompleteTodos:Function,selsctAllTodos:Function},computed:{completeSize:function(){return this.todos.reduce(function(e,t){return e+(t.complete?1:0)},0)},isAllcheck:{get:function(){return this.completeSize===this.todos.length&&this.completeSize>0},set:function(e){this.selsctAllTodos(e)}}}},_={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"todo-footer"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.isAllcheck,expression:"isAllcheck"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAllcheck)?e._i(e.isAllcheck,null)>-1:e.isAllcheck},on:{change:function(t){var o=e.isAllcheck,n=t.target,s=!!n.checked;if(Array.isArray(o)){var i=e._i(o,null);n.checked?i<0&&(e.isAllcheck=o.concat([null])):i>-1&&(e.isAllcheck=o.slice(0,i).concat(o.slice(i+1)))}else e.isAllcheck=s}}})]),e._v(" "),o("span",[o("span",[e._v("已完成"+e._s(e.completeSize))]),e._v(" / 全部"+e._s(e.todos.length)+"\n   ")]),e._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:e.completeSize>0,expression:"completeSize>0"}],staticClass:"btn btn-danger",on:{click:e.deleteCompleteTodos}},[e._v("清除已完成任务")])])},staticRenderFns:[]};var k={data:function(){return{todos:JSON.parse(window.localStorage.getItem("todos_key")||"[]")}},mounted:function(){var e=this;this.$refs.header.$on("addTodo",this.addTodo),c.a.subscribe("deleteItem",function(t,o){e.deleteItem(o)})},methods:{addTodo:function(e){this.todos.unshift(e)},deleteItem:function(e){this.todos.splice(e,1)},deleteCompleteTodos:function(){this.todos=this.todos.filter(function(e){return!e.complete})},selsctAllTodos:function(e){this.todos.forEach(function(t){return t.complete=e})}},watch:{todos:{deep:!0,handler:function(e){window.localStorage.setItem("todos_key",i()(e))}}},components:{TodoHeader:a,TodoList:f,TodoFooter:o("C7Lr")(v,_,!1,function(e){o("pR9m")},null,null).exports}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"todo-container"},[t("div",{staticClass:"todo-wrap"},[t("TodoHeader",{ref:"header"}),this._v(" "),t("TodoList",{attrs:{todos:this.todos}}),this._v(" "),t("TodoFooter",{attrs:{todos:this.todos,deleteCompleteTodos:this.deleteCompleteTodos,selsctAllTodos:this.selsctAllTodos}})],1)])},staticRenderFns:[]};var A=o("C7Lr")(k,w,!1,function(e){o("VZ9K")},null,null).exports;o("o38A");new n.a({el:"#app",components:{App:A},template:"<App/>"})},VZ9K:function(e,t){},o38A:function(e,t){},pR9m:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ee2360e5b70909148fed.js.map